Exercise 00 Bitcoin Exchange
Regular cases
Single valid line

Input: 2011-01-03 | 3

Check: correct lookup in DB and multiplication.

Expected: 2011-01-03 => 3 = <rate*3>.

Multiple valid lines with same date

Input: three lines 2011-01-03 | 3, 2011-01-03 | 1.2, 2011-01-09 | 1

Check: each line processed independently; floating multiplication preserved.

Header line present

Input: first line date | value then data lines.

Check: header ignored.

Edge cases
Date not in DB use closest lower date

Input: 2011-01-04 | 2 when DB has 2011-01-03 and 2011-01-09.

Check: choose 2011-01-03 (lower date), not 2011-01-09.

Earliest date requested earlier than DB earliest

Input: 2009-12-31 | 1 and DB earliest is 2010-01-01.

Check: either error or use no earlier date depending on spec; ensure you document and implement consistent behavior (subject expects closest lower date â€” if none, treat as error).

Leap year and month boundary

Input: 2012-02-29 | 1 (valid leap day) and 2011-02-29 | 1 (invalid).

Check: validate date correctness; invalid date => Error: bad input => <date>.

Floating precision

Input: 2011-01-03 | 0.3333333

Check: rounding/printing precision; ensure consistent formatting and no scientific notation unless intended.

Duplicate dates in DB

DB: two entries for same date with different rates.

Check: define and implement deterministic behavior (first occurrence, last occurrence, or merge). Document choice.

Invalid inputs and error messages
Negative value

Input: 2012-01-11 | -1

Expected: Error: not a positive number.

Value too large

Input: 2012-01-11 | 2147483648

Expected: Error: too large a number. (or consistent overflow handling)

Malformed line

Input: 2001-42-42 or 2012-01-11 - 1

Expected: Error: bad input => 2001-42-42

Non-numeric value

Input: 2011-01-03 | abc

Expected: Error: bad input => 2011-01-03 | abc or specific message.

Missing file

Invocation: run without argument or with non-existent file

Expected: Error: could not open file.

Extra whitespace and different separators

Input: 2011-01-03|3 or 2011-01-03 | 3

Check: robust trimming and parsing.

Performance and robustness
Large input file

Input: thousands of lines

Check: memory usage, speed of lookups (use map or ordered container for O(log n) lookup), no leaks.

Malformed CSV DB

DB: missing header, extra columns, blank lines

Check: robust DB parsing and clear error messages.

Implementation checks
Container usage

Check: you used at least one STL container (e.g., std::map<std::string, double> or std::vector<pair<string,double>> with binary search).

Check: once chosen, that container is not reused in later exercises per module rules.

Date parsing

Check: strict YYYY-MM-DD validation; reject invalid months/days.

Closest lower date algorithm

Check: for ordered container use upper_bound then step back; test boundary cases where upper_bound returns begin().